<template>
  <div class="bottom-nav">
    <nav class="nav-card">
      <ul>
        <li @click="goToHomePage">
          <span v-if="customIcons.home">{{ customIcons.home }}</span>
          <span v-else>ğŸ—“ï¸</span>
          <span>ä¸»é¡µ</span>
        </li>
        <li @click="goToSubscription">
          <span v-if="customIcons.subscription">{{ customIcons.subscription }}</span>
          <span v-else>ğŸ“°</span>
          <span>è®¢é˜…æº</span>
        </li>
        <li @click="goToProfile">
          <span v-if="customIcons.profile">{{ customIcons.profile }}</span>
          <span v-else>ğŸ‘¤</span>
          <span>ä¸ªäººä¸­å¿ƒ</span>
        </li>
      </ul>
    </nav>
  </div>
</template>

<script>
export default {
  name: 'BottomNav',
  props: {
    customIcons: {
      type: Object,
      default: () => ({})
    }
  },
  methods: {
    goToHomePage() {
      // è·³è½¬åˆ°ä¸»é¡µçš„é€»è¾‘
  this.$router.push({name:'home'})
    },
    goToSubscription() {
      // è·³è½¬åˆ°è®¢é˜…æºçš„é€»è¾‘
      this.$router.push({ name: 'subscription' });

    },
    goToProfile() {
      // è·³è½¬åˆ°ä¸ªäººä¸­å¿ƒçš„é€»è¾‘
      this.$router.push({ name: 'profile' }); // é€šè¿‡è·¯ç”±åç§°å¯¼èˆª
    },
    // ... goTo methods ...
    updateNavWidth() {
      // è·å–çˆ¶å®¹å™¨çš„å®½åº¦å¹¶è®¾ç½®ä¸º.nav-cardçš„å®½åº¦
      const parentWidth = this.$el.parentElement.offsetWidth;
      const navCard = this.$el.querySelector('.nav-card');
      if (navCard) {
        navCard.style.width = `${parentWidth}px`;
      }
    },
    // ... other methods ...
  },
  mounted() {
    this.updateNavWidth();
    window.addEventListener('resize', this.updateNavWidth);
  },
  beforeDestroy() {
    window.removeEventListener('resize', this.updateNavWidth);
  }
}
</script>

<style scoped>
.bottom-nav {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
}

.nav-card {
  width: 100vw;
  max-width: 100%; /* ç¡®ä¿ä¸ä¼šè¶…è¿‡è§†å£å®½åº¦ */
  background: white;
  box-shadow: 0 4px 6px rgba(0,0,0,0.5);
  border-radius: 20px 20px 0 0;
  padding: 10px 0;
  display: flex;
  justify-content: space-around;
}

.nav-card ul {
  list-style: none;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: space-around;
  width: inherit;
  margin: 0 auto;
}

.nav-card li {
  text-align: center;
  flex-grow: 1;
  flex-basis: 0;
}

.nav-card span {
  display: block;
  margin-bottom: 5px;
}

/* ç¡®ä¿SVGå›¾æ ‡æ˜¾ç¤ºæ­£ç¡® */
.nav-card span svg {
  width: 24px;
  height: 24px;
}
</style>
